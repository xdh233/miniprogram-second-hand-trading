<view class="container">
  <!-- æœç´¢æ  -->
  <view class="search-container">
    <view class="search-bar">
      <icon type="search" size="32rpx" color="#999"/>
      <input class="search-input" placeholder="æœç´¢è”ç³»äººæˆ–æ¶ˆæ¯å†…å®¹" placeholder-class="search-placeholder"/>
    </view>
  </view>

  <!-- æ¶ˆæ¯åˆ†ç±»ç»„ -->
  <view class="message-group">
    <view class="message-types">
      <view class="type-item" bindtap="navigateToMentions">
        <view class="type-icon mention">@</view>
        <text class="type-text">æåˆ°æˆ‘çš„</text>
        <view class="badge" wx:if="{{mentionCount > 0}}">{{mentionCount}}</view>
      </view>
      <view class="type-item" bindtap="navigateToComments">
        <view class="type-icon comment">ğŸ’¬</view>
        <text class="type-text">è¯„è®º</text>
        <view class="badge" wx:if="{{commentCount > 0}}">{{commentCount}}</view>
      </view>
      <view class="type-item" bindtap="navigateToLikes">
        <view class="type-icon like">â¤ï¸</view>
        <text class="type-text">ç‚¹èµ</text>
        <view class="badge" wx:if="{{likeCount > 0}}">{{likeCount}}</view>
      </view>
    </view>
  </view>

  <!-- èŠå¤©åˆ—è¡¨ç»„ -->
  <view class="message-group">
    <view class="section-title">æœ€è¿‘èŠå¤©</view>
    <view class="chat-list">
      <view class="chat-item" 
        wx:for="{{chatList}}" 
        wx:key="id"
        data-id="{{item.id}}"
        bindtap="navigateToChat"
      >
        <image class="avatar" src="{{item.avatar}}" mode="aspectFill"/>
        <view class="chat-info">
          <view class="chat-header">
            <text class="name">{{item.name}}</text>
            <text class="time">{{item.time}}</text>
          </view>
          <view class="chat-footer">
            <text class="last-message">{{item.lastMessage}}</text>
            <view class="unread" wx:if="{{item.unreadCount > 0}}">{{item.unreadCount}}</view>
          </view>
        </view>
      </view>
    </view>
  </view>
</view>